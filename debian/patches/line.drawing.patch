From: Maximiliano Curia <maxy@debian.org>
Date: Sat, 7 Nov 2015 16:00:53 +0100
Subject: line.drawing

## Description: When moving a wire so that it joins with another delete the moved one, as well as extending the other.
## Origin/Author: Fole
## Bug: https://bugs.edge.launchpad.net/ubuntu/+source/oregano/+bug/60777
---
 src/sheet/sheet-item.c | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

Index: debian-oregano/src/sheet/sheet-item.c
===================================================================
--- debian-oregano.orig/src/sheet/sheet-item.c
+++ debian-oregano/src/sheet/sheet-item.c
@@ -465,7 +465,11 @@ sheet_item_event (GooCanvasItem *sheet_i
 				pos.x = snapped_x;
 				pos.y = snapped_y;
 				item_data_move (item_data, &pos);
-                item_data_register (item_data);
+ 				if (item_data_register(item_data) == -1) {
+ 					/* Merged item needs to be deleted */
+ 					g_object_unref (G_OBJECT (item_data));
+ 					gtk_object_destroy(GTK_OBJECT(list->data));
+ 				}
             }
 			g_list_free_full (list, g_object_unref);
 				
