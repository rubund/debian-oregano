From: Maximiliano Curia <maxy@debian.org>
Date: Sat, 7 Nov 2015 16:00:53 +0100
Subject: line.drawing

## Description: When moving a wire so that it joins with another delete the moved one, as well as extending the other.
## Origin/Author: Fole
## Bug: https://bugs.edge.launchpad.net/ubuntu/+source/oregano/+bug/60777
---
 src/sheet/sheet-item.c | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

diff --git a/src/sheet/sheet-item.c b/src/sheet/sheet-item.c
index 35120e3..e7aa1e1 100644
--- a/src/sheet/sheet-item.c
+++ b/src/sheet/sheet-item.c
@@ -525,7 +525,11 @@ sheet_item_event (SheetItem *sheet_item, const GdkEvent *event, SchematicView *s
 
 				item_data = SHEET_ITEM (list->data)->priv->data;
 				item_data_move (item_data, &delta);
-				item_data_register (item_data);
+				if (item_data_register(item_data) == -1) {
+					/* Merged item needs to be deleted */
+					g_object_unref (G_OBJECT (item_data));
+					gtk_object_destroy(GTK_OBJECT(list->data));
+				}
 			}
 
 			break;
